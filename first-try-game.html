<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First AI Game - æ™ºèƒ½æ‰«é›·</title>
    <style>
        :root {
            --apple-gray1: #f5f5f7;
            --apple-gray2: #86868b;
            --apple-gray3: #1d1d1f;
            --apple-blue: #0071e3;
        }

        body {
            font-family: -apple-system, "PingFang SC";
            background: var(--apple-gray1);
            color: var(--apple-gray3);
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .game-container {
            background: white;
            border-radius: 18px;
            padding: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .grid {
            display: grid;
            gap: 2px;
            background: var(--apple-gray1);
            border: 2px solid var(--apple-gray1);
            margin: 1.5rem 0;
        }

        .cell {
            width: 40px;
            height: 40px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.12s ease;
        }

        .cell:hover {
            background: var(--apple-gray1);
        }

        .revealed {
            background: var(--apple-gray1);
        }

        .mine {
            background: #ff453a !important;
        }

        .flag {
            background: #ffd60a !important;
        }

        .game-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        button {
            background: var(--apple-blue);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 24px;
            cursor: pointer;
            transition: opacity 0.2s;
        }

        button:hover {
            opacity: 0.85;
        }

        .status {
            font-size: 1.2rem;
            color: var(--apple-gray2);
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ğŸ® First AI Game</h1>
        <p>äººå·¥æ™ºèƒ½æ—¶ä»£çš„ç¬¬ä¸€æ¬¾ç»å…¸æ‰«é›·æ¸¸æˆ</p>
        
        <div class="game-controls">
            <button onclick="startGame()">å¼€å§‹æ–°æ¸¸æˆ</button>
            <div class="status" id="status">å‰©ä½™åœ°é›·ï¼š10</div>
            <div class="status" id="timer">å·²ç”¨æ—¶é—´ï¼š0ç§’</div>
        </div>

        <div id="grid" class="grid" style="grid-template-columns: repeat(10, 40px);"></div>

        <h2>ğŸ® æ¸¸æˆè§„åˆ™</h2>
        <p>ç‚¹å‡»æ ¼å­æ­å¼€æ–¹å—ï¼Œå³é”®æ ‡è®°åœ°é›·ã€‚æ•°å­—è¡¨ç¤ºå‘¨å›´8æ ¼ä¸­çš„åœ°é›·æ•°é‡ï¼Œæ ‡è®°æ‰€æœ‰åœ°é›·å³å¯è·èƒœï¼</p>

        <h2>ğŸ† å½“å‰çŠ¶æ€</h2>
        <p id="gameState">æ¸¸æˆå‡†å¤‡ä¸­ï¼Œç‚¹å‡»ã€Œå¼€å§‹æ–°æ¸¸æˆã€å¯åŠ¨</p>
    </div>

    <script>
        let gridSize = 10;
        let mineCount = 10;
        let timer = 0;
        let timerInterval;
        let grid = [];

        function createGrid() {
            let gridHTML = '';
            for(let i=0; i<gridSize; i++) {
                for(let j=0; j<gridSize; j++) {
                    gridHTML += `<div class="cell" 
                        data-x="${j}" 
                        data-y="${i}"
                        onclick="revealCell(${j},${i})"
                        oncontextmenu="flagCell(event,${j},${i})"></div>`;
                }
            }
            document.getElementById('grid').innerHTML = gridHTML;
        }

        function startGame() {
            // åˆå§‹åŒ–æ¸¸æˆé€»è¾‘
            clearInterval(timerInterval);
            timer = 0;
            document.getElementById('timer').textContent = `å·²ç”¨æ—¶é—´ï¼š${timer}ç§’`;
            document.getElementById('gameState').textContent = "æ¸¸æˆä¸­...";
            
            // ç”Ÿæˆåœ°é›·
            grid = Array(gridSize).fill().map(() => Array(gridSize).fill(0));
            let minesPlaced = 0;
            while(minesPlaced < mineCount) {
                let x = Math.floor(Math.random()*gridSize);
                let y = Math.floor(Math.random()*gridSize);
                if(grid[y][x] !== 'M') {
                    grid[y][x] = 'M';
                    minesPlaced++;
                }
            }

            // å¯åŠ¨è®¡æ—¶å™¨
            timerInterval = setInterval(() => {
                timer++;
                document.getElementById('timer').textContent = `å·²ç”¨æ—¶é—´ï¼š${timer}ç§’`;
            }, 1000);

            createGrid();
        }

        function revealCell(x, y) {
            const cell = document.querySelector(`[data-x="${x}"][data-y="${y}"]`);
            if(grid[y][x] === 'M') {
                cell.classList.add('mine');
                gameOver(false);
            } else {
                cell.classList.add('revealed');
                // è®¡ç®—å‘¨å›´åœ°é›·æ•°é‡é€»è¾‘
                // æ­¤å¤„éœ€è¦æ·»åŠ å®Œæ•´æ¸¸æˆé€»è¾‘
            }
        }

        function flagCell(event, x, y) {
            event.preventDefault();
            const cell = document.querySelector(`[data-x="${x}"][data-y="${y}"]`);
            cell.classList.toggle('flag');
        }

        function gameOver(isWin) {
            clearInterval(timerInterval);
            document.getElementById('gameState').textContent = isWin ? 
                "ğŸ‰ æ­å–œä½ è·èƒœï¼" : "ğŸ’¥ æ¸¸æˆç»“æŸï¼";
        }

        // åˆå§‹åŒ–æ¸¸æˆ
        startGame();
    </script>
</body>
</html>